# Linux学习笔记
rz  		                  上传文件到Linux服务器
sz  文件名/路径	 下载文件到本地

```
vim 的基本指令
0）输入模式 i、a、o、 s、 I、 A、 O、 S 区别
     i、I：在光标所在字符前开始插入
     a、A：在光标所在字符后开始插入
     o、O：在光标所在行的下面另起一新行插入
     s、S：删除光标所在的字符并开始插入
1）拷贝当前行    yy，拷贝当前行向下的5行 	   5yy，并粘贴    【p】
2）删除当前行    dd，删除当前行向下的5行    5dd
3）在文件中查找某个单词【命令行下/查找的内容	然后按回车。输入n就是查找下一个】
4）设置文件的行号，取消文件的行号【命令行下    :set nu 和    :set nonu】
5）编辑    /etc/profile  文件，使用快捷键到达文档的最末行【G】和首行【gg】。注意要在正常模式下执行
6）在一个文件中输入  "hello"，然后又撤销这个动作，在正常模式下输入  u
7）编辑    /etc/profile wenjian1, 并将光标移动到  20 行 shift+g
     1、显示行号    :set nu
     2、输入20这个数
     3、输入 shift + g
```

## 第七章 开机、重启和用户登录注销

### 7.1 开机和重启

```
shutdown
       shutdown  -h now : 表示立即关机
       shutdown  -h 1 : 表示1分钟后关机
       shutdown  -r now : 立即重启
halt
       就是直接使用，效果等价于关机
reboot
       重启
sync
       把内存数据同步到磁盘，防止数据丢失，建议关机或者重启时，都先执行一边
```

### 7.2 用户登录注销

​       登录时尽量少使用root账号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利用普通用户登录，
登陆后再用 “su - 用户名”命令来切换成系统管理员身份
​       在提示符下输入logout即可注销用户

## 第八章 用户管理

### 8.1 基本概念

root ----》 root组  ----》 /root 目录
用户 ----》 属于某个组（权限的集合）----》 用户家目录（在/home/目录下，当用户登录时，会自动进入到该目录）

说明：
1）Linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，
然后以这个账号的身份进入系统。
2）一个用户至少属于一个组。

### 8.2 用户的增删改查

```
useradd  【选项】 用户名  密码
     如果不指定组，会默认创建一个和用户名同名的组，并将创建的用户分配到改组
     也可以通过    useradd -d  指定目录 用户名  密码    将用户分配给指定的家目录
     创建时不指定密码，可以另外在命令行输入  passwd  用户名   修改密码

userdel  用户名
     1）删除用户，但是要保留家目录
	userdel    用户名
     2）删除用户以及用户的家目录
	userdel  -r  用户名
```

### 8.3 查询用户的信息

id  用户名
可以查出uid gid 组 等信息

### 8.4 切换用户

su  - 切换用户名
     可以用exit命令回退到原来的用户
     可以使用  whoami  指令查询当前是哪个用户

### 8.5 用户组

​     用户组类似于角色，系统可以对有共性的多个用户进行统一的管理

#### 8.5.1 创建组

​        groupadd  组名

#### 8.5.2 删除组

​        groupdel  组名

#### 8.5.3 增加用户时直接加上组

​        useradd  -g  用户组  用户名

#### 8.5.4 修改用户组

​        usermod  -g  用户组  用户名

### 8.6  用户和组的配置文件

用户配置文件（用户信息）：/etc/passwd
      每行的含义     用户名：口令（密码）：用户标识号（用户id）：组标识号（组id）：注释性描述：主目录：登录shell
组配置文件（组信息）：/etc/group
      每行的含义     组名：口令：组标识号：组内用户列表
口令配置文件（密码和登录信息，是加密的）：/etc/shadow
      每行的含义      登录名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔：警告事件：不活动时间：失效时间：标志

## 第九章 实用指令

### 9.1  运行级别和找回密码

```
linux共有7级运行级别
​        0：关机
​        1：单用户（找回丢失密码）
​        2：多用户无网络服务
​        3：多用户有网络服务（常用）
​        4：系统未使用保留给用户
​        5：图形界面
​        6：系统重启
系统运行级别配置文件：/etc/inittab   中  id:3:initdefault: 这一行
```

### 9.2  切换到指定运行级别的指令

​       init [0123456]
​       思考：如何找回root密码？
​       思路：进入到 单用户模式，然后修改root密码。因为单用户模式，root不需要密码就可以登录。

### 9.3 帮助指令

```
man  [命令或配置文件]（功能描述，获得帮助信息）jk或者上下键进行上下翻页，q退出来
help  [命令]
```

### 9.4 文件目录类

​      pwd  显示当前目录的绝对路径

    ls  [选项]  [目录或是文件] 
    	-a    显示当前目录所有的文件和目录，包括隐藏的
    	-l     以列表的方式显示目录
    	-lh   将文件大小显示为K、M、G等直观可视的大小
      
    cd  [参数]
    	cd  ~  回到自己的家目录
    	cd  ..   回到当前目录的上一级目录
    
    mkdir   [选项]    要创建的目录
    	-p    创建多级目录
    rmdir  [选项]    要删除的空目录
    	-p     删除多级目录
    
    touch  文件名称（可以一次性创建多个指令）
    
    cp  [选项]  source  dest
    	-r     递归复制整个文件夹
    
    rm  [选项]    要删除的文件或目录
    	-r     递归删除整个文件夹
    	-f     强制删除不提示
    
    mv  source  dest
    	source和dest路径一致时，可以用于文件重命名
    
    cat  [选项]    要查看的文件
    	-n    显示行号（包括空格）
    	-b    显示行号（不包括空行）
    	|   more     管道符+more，分页查询，回车键下一行，空格键下一页，q退出
    
    more  要查看的文件
    	回车键下一行，空格键下一页，ctrl+b上一页，ctrl+f下一页，pageup和pagedown也支持上下翻页，q退出
    
    less  要查看的文件      
    	说明：less指令在显示文件内容时，并不是一次性将整个文件加载之后才显示。而是根据显示需要加载内容，对于显示大型文件具有较高的效率，翻页和more类似
    	-m     显示百分比
    	-N      显示行号
      
    >指令和>>指令
    >输出重定向和>>追加
    	1）ls  -l > 文件			（功能描述：列表的内容写入文件中（覆盖写））
    	2）ls  -al >>文件			（功能描述：列表的内容追加到文件的末尾）
    	3）cat  文件1  >  文件2     （功能描述：将文件1的内容覆盖到文件2）
    	4）echo  "内容"  >>  文件
    
    echo  [选项]  [输出的内容]
    	常用于输出环境变量	echo  $PATH
    
    head  文件		（功能描述：默认查看文件前10行的内容）
    	head  -n  5  文件		（功能描述：查看指定文件的前5行）
    
    tail  文件		（功能描述：显示文件后10行）
    	tail  -n  5  文件		（功能描述：查看指定文件的后5行）
    	tail  -f  文件		（功能描述：实时总追文件的所有跟新）
    
    ln  -s  [源文件或目录]  [软件链接]		相当于windows的快捷方式
    	细节说明：通过软连接进入到某个目录时，当我们使用pwd指令查看目录时，仍然看到的是软连接所在的目录。
    
    history		查看已经执行过的历史指令，也可以执行历史指令
    	history  10	  （功能描述：查看最后10个执行的指令）
    	!100		  （功能描述：执行历史编号为100的指令）

### 9.5  时间日期类

    date				            显示当前日期时间
    date  "+%Y-%m-%d   %H:%M:%S"   	显示当前年月日时分秒
    
    设置日期
    date  -s  字符串时间，如"2020-2-23 17:40:00"
    
    cal  [选项]	      （功能描述：不加选项，显示本月日历）
    cal  2020        	显示2020年的所有月份

### 9.6  搜索查找类

    find  [搜索范围]  [选项]
    	-name		根据名字来查找，可以用通配符  *
    	-user		根据拥有者来查找
    	-size		注意：k要小写，M要大写。根据大小来查找，find / -szie +20M  在根目录下查找大于20M的文件，+大于，直接写20M就是等于20M，-小于
      
    locate  搜索的文件
    	说明：locate指令可以快速定位文件路径。locate指令利用事先建立的系统中所有文件名称及路径的locate数据库事先快速定位给定的文件。
        locate指令无需遍历整个文件夹，查询速度极快。为了保证查询结果的准确度，管理员必须定时更新locate时刻。
        由于locate指令基于数据库进行查询，所以第一次运行前，必须使用updatedb指令创建locate数据库。
    
    |    管道符：表示将前一个命令的处理结果输出传递给后面的命令处理
    grep  [选项]  查找的内容  源文件
    	-n	显示匹配行及行号
    	-i	忽略字体大小写

### 9.7  压缩和解压类

#### 9.7.1  gzip和gunzip  指令

​	gzip用于压缩文件，gunzip用于解压的

	gzip  文件		（功能描述：压缩文件，只能将文件压缩为*.gz文件）注意：压缩完之后，原来的文件不保留
	gunzip  文件.gz	（功能描述：解压缩文件命令）注意：解压完之后，原先的压缩文件也不存在了
	
	zip  [选项]  xxx.zip  要压缩的文件或文件夹		（功能描述：压缩文件和目录的命令）
		-r	递归压缩
	
	unzip  要解压的文件
	unzip  -d  指定解压后的文件存放目录  要解压的文件	
	
	tar  []  xxx.tar.gz  要压缩的文件或文件夹
	tar 是指打包指令，最后打包后的文件是.tar.gz的文件
		-c	产生.tar打包文件
		-v	压缩或解压缩时显示详细信息
		-f	指定压缩后的文件名
		-z	打包并同时压缩
		-x	解压
		解压到指定目录要 tar  -zxvf  xxx.zip  -C  指定目录（目录要预先创建好）

### 9.8  组管理和权限管理

Linux组的基本介绍
      在Linux中的每个用户必须属于一个组，不能独立于组外。在Linux中每个文件有所有者、所在组、其他组的概念。
	文件：1、所有者；2、所在组；3、其他组；4、改变用户所在的组

#### 9.8.1  文件/目录所有者

​      一般为文件的创建者，谁创建了该文件，谁自然就成为该文件的所有者。

    查看文件的所有者
    ls  -ahl
    
    修改文件所有者（change owner）
    chown  用户名  文件名
    
    修改文件所在的组（change group）
    chgrp  组名  文件名

```
权限的基本介绍
-rwxr--r--. 1 root police 0 2月  24 22:55 ok.txt
	最前面的-代表文件的类型：- 普通文件；    d 目录；    l 软链接；    c 字符设备；    b 块文件（如硬盘）
    第一组rwx三个字符代表文件所有的  读权限，写权限，操作权限
    第二组代表文件所有者所在的组的  读权限，写权限，操作权限
    第三组代表其他组拥有的权限
    1                     如果是文件，表示硬链接的数，如果是目录则表示该目录的子目录个数
    root                  代表文件所有者
    police                代表文件所在的组
    0                     代表文件大小，文件的每行结尾都会有\0，因此输入五个字符的hello，文件大小会显示6。如果是目录则大小都是4096（CentOS6）
    2月24  22:55			 代表文件最后修改时间
    ok.txt                代表文件名
```

```
rwx作用到文件
1）[r]代表可读（read）：可以读取，查看
2）[w]代表可写（write）：可以修改，但是不代表可以删除该文件，删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件
3）[x]代表可执行（execute）：可以被执行

rwx作用到目录
1）[r]代表可读（read）：可以读取，ls查看目录内容
2）[w]代表可写（write）：可以修改，目录内创建+删除+重命名目录
3）[x]代表可执行（execute）：可以进入该目录
```

#### 9.8.2  修改权限

